<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.19" /><meta name="theme" content="VuePress Theme Plume " /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><title>选项式基础 | blog</title><meta name="description" content="个人blog"><link rel="stylesheet" href="/blog/assets/css/styles.0bf0e7cc.css"><link rel="preload" href="/blog/assets/js/runtime~app.88b90bef.js" as="script"><link rel="preload" href="/blog/assets/css/styles.0bf0e7cc.css" as="style"><link rel="preload" href="/blog/assets/js/7955.49d4ac36.js" as="script"><link rel="preload" href="/blog/assets/js/app.2d4d8b7a.js" as="script"><link rel="prefetch" href="/blog/assets/js/9782.fb16e993.js" as="script"><link rel="prefetch" href="/blog/assets/js/article_zbbxi5nm_index.html.8b13bdcd.js" as="script"><link rel="prefetch" href="/blog/assets/js/en_article_9vcern5w_index.html.877e5840.js" as="script"><link rel="prefetch" href="/blog/assets/js/8300.5285c268.js" as="script"><link rel="prefetch" href="/blog/assets/js/7533.d8a48369.js" as="script"><link rel="prefetch" href="/blog/assets/js/Vue_yx7459zz_index.html.35e8638d.js" as="script"><link rel="prefetch" href="/blog/assets/js/Vue_basic_list-rendering_index.html.3eeaf00e.js" as="script"><link rel="prefetch" href="/blog/assets/js/Vue_basic_watch_index.html.ada2b4d2.js" as="script"><link rel="prefetch" href="/blog/assets/js/Vue_basic_模板语法_index.html.53af8f7f.js" as="script"><link rel="prefetch" href="/blog/assets/js/Vue_Options_Reactivity Fundamentals_index.html.5a59988e.js" as="script"><link rel="prefetch" href="/blog/assets/js/Vue_basic_computed_index.html.0b3ba107.js" as="script"><link rel="prefetch" href="/blog/assets/js/Vue_basic_event-handling_index.html.9d9bf004.js" as="script"><link rel="prefetch" href="/blog/assets/js/Vue_basic_conditional-rendering_index.html.672a4de9.js" as="script"><link rel="prefetch" href="/blog/assets/js/git_ur6qna7c_index.html.0e9a2a69.js" as="script"><link rel="prefetch" href="/blog/assets/js/Vue_start_index.html.16ebf7a4.js" as="script"><link rel="prefetch" href="/blog/assets/js/Vue_basic_createApp_index.html.8ad5047b.js" as="script"><link rel="prefetch" href="/blog/assets/js/Vue_basic_input-binding_index.html.da42b62e.js" as="script"><link rel="prefetch" href="/blog/assets/js/9560.8e986464.js" as="script"><link rel="prefetch" href="/blog/assets/css/131.styles.3e734550.css" as="style"><link rel="prefetch" href="/blog/assets/js/Vue_iu589rkf_index.html.4789fd44.js" as="script"><link rel="prefetch" href="/blog/assets/js/blog_TODO_index.html.20c1a553.js" as="script"><link rel="prefetch" href="/blog/assets/js/en_demo_index.html.07998a13.js" as="script"><link rel="prefetch" href="/blog/assets/js/demo_index.html.4ac33adc.js" as="script"><link rel="prefetch" href="/blog/assets/js/JavaScript_index.html.215c541c.js" as="script"><link rel="prefetch" href="/blog/assets/js/en_article_4mywpi78_index.html.3fb17ec0.js" as="script"><link rel="prefetch" href="/blog/assets/js/article_cb5o3pbd_index.html.adc886db.js" as="script"><link rel="prefetch" href="/blog/assets/js/article_njz3wnox_index.html.4aba1dcb.js" as="script"><link rel="prefetch" href="/blog/assets/js/en_demo_9abe9a7j_index.html.131e292a.js" as="script"><link rel="prefetch" href="/blog/assets/js/en_demo_eop8ic5l_index.html.92ac363c.js" as="script"><link rel="prefetch" href="/blog/assets/js/demo_k3qeex8f_index.html.34f93bc0.js" as="script"><link rel="prefetch" href="/blog/assets/js/demo_7qyh0z82_index.html.bcf74886.js" as="script"><link rel="prefetch" href="/blog/assets/js/article_y60nwm4v_index.html.aabbb1f5.js" as="script"><link rel="prefetch" href="/blog/assets/js/article_zrj25b3d_index.html.3de2cab0.js" as="script"><link rel="prefetch" href="/blog/assets/js/en_index.html.1f07e1c3.js" as="script"><link rel="prefetch" href="/blog/assets/js/index.html.82615228.js" as="script"><link rel="prefetch" href="/blog/assets/js/git_index.html.20881f0d.js" as="script"><link rel="prefetch" href="/blog/assets/js/notes_index.html.d859488a.js" as="script"><link rel="prefetch" href="/blog/assets/js/en_blog_categories_index.html.b9aa91d2.js" as="script"><link rel="prefetch" href="/blog/assets/js/en_blog_archives_index.html.3848abb0.js" as="script"><link rel="prefetch" href="/blog/assets/js/blog_categories_index.html.ba50a313.js" as="script"><link rel="prefetch" href="/blog/assets/js/blog_archives_index.html.60f88234.js" as="script"><link rel="prefetch" href="/blog/assets/js/blog_tags_index.html.08a47c97.js" as="script"><link rel="prefetch" href="/blog/assets/js/en_blog_tags_index.html.6cbab0b8.js" as="script"><link rel="prefetch" href="/blog/assets/js/404.html.be64ab8d.js" as="script"><link rel="prefetch" href="/blog/assets/js/blog_index.html.bbaf3d11.js" as="script"><link rel="prefetch" href="/blog/assets/js/en_blog_index.html.4d57c35e.js" as="script"><link rel="prefetch" href="/blog/assets/css/4710.styles.239af51c.css" as="style"><link rel="prefetch" href="/blog/assets/css/6125.styles.8d798e1b.css" as="style"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-3ba327b4><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-19a51045></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-19a51045> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-3ba327b4 data-v-78e9ebd8><div class="vp-navbar" vp-navbar data-v-78e9ebd8 data-v-86b58b52><div class="wrapper" data-v-86b58b52><div class="container" data-v-86b58b52><div class="title" data-v-86b58b52><div class="vp-navbar-title has-sidebar" data-v-86b58b52 data-v-e01370a2><a class="vp-link no-icon link title" href="/blog/" data-v-e01370a2 data-v-30e58bde><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" src="https://theme-plume.vuejs.press/plume.png" alt data-v-7540920a><!--]--><!--[--><img class="vp-image light logo" src="https://theme-plume.vuejs.press/plume.png" alt data-v-7540920a><!--]--><!--]--><!--]--><span data-v-e01370a2 data-v-30e58bde-s>blog</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-86b58b52><div class="content-body" data-v-86b58b52><!--[--><!--]--><div class="vp-navbar-search search" data-v-86b58b52><div class="search-wrapper" data-v-7198ab44><!----><div id="local-search" data-v-7198ab44><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-7198ab44><span class="mini-search-button-container"><svg class="mini-search-search-icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-86b58b52 data-v-23c350a1><span id="main-nav-aria-label" class="visually-hidden" data-v-23c350a1>Main Navigation</span><!--[--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/" tabindex="0" data-v-23c350a1 data-v-23195170 data-v-30e58bde><!--[--><!----><span data-v-23195170 data-v-30e58bde-s>首页</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/blog/" tabindex="0" data-v-23c350a1 data-v-23195170 data-v-30e58bde><!--[--><!----><span data-v-23195170 data-v-30e58bde-s>博客</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/blog/tags/" tabindex="0" data-v-23c350a1 data-v-23195170 data-v-30e58bde><!--[--><!----><span data-v-23195170 data-v-30e58bde-s>标签</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/blog/archives/" tabindex="0" data-v-23c350a1 data-v-23195170 data-v-30e58bde><!--[--><!----><span data-v-23195170 data-v-30e58bde-s>归档</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/blog/TODO/" tabindex="0" data-v-23c350a1 data-v-23195170 data-v-30e58bde><!--[--><!----><span data-v-23195170 data-v-30e58bde-s>代办</span><!--]--><!----></a><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-23c350a1 data-v-685caada><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-685caada><span class="text" data-v-685caada><!----><!----><span data-v-685caada>笔记</span><span class="vpi-chevron-down text-icon" data-v-685caada></span></span></button><div class="menu" data-v-685caada><div class="vp-menu" data-v-685caada data-v-395a8b11><div class="items" data-v-395a8b11><!--[--><!--[--><div class="vp-menu-link" data-v-395a8b11 data-v-6fa0db71><a class="vp-link no-icon link" href="/blog/demo/" data-v-6fa0db71 data-v-30e58bde><!--[--><!----> 示例<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-395a8b11 data-v-6fa0db71><a class="vp-link no-icon link" href="/blog/git/" data-v-6fa0db71 data-v-30e58bde><!--[--><!----> Git<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-395a8b11 data-v-6fa0db71><a class="vp-link no-icon link" href="/blog/JavaScript/" data-v-6fa0db71 data-v-30e58bde><!--[--><!----> JavaScript<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-395a8b11 data-v-6fa0db71><a class="vp-link no-icon link" href="/blog/Vue/start/" data-v-6fa0db71 data-v-30e58bde><!--[--><!----> Vue<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="vp-flyout vp-navbar-translations translations" data-v-86b58b52 data-v-b62ac1a2 data-v-685caada><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="选择语言" data-v-685caada><span class="text" data-v-685caada><!----><span class="vpi-languages option-icon" data-v-685caada></span><!----><span class="vpi-chevron-down text-icon" data-v-685caada></span></span></button><div class="menu" data-v-685caada><div class="vp-menu" data-v-685caada data-v-395a8b11><!----><!--[--><!--[--><div class="items" data-v-b62ac1a2 data-v-685caada-s data-v-395a8b11-s><p class="title" data-v-b62ac1a2 data-v-685caada-s data-v-395a8b11-s>简体中文</p><!--[--><div class="vp-menu-link" data-v-b62ac1a2 data-v-685caada-s data-v-395a8b11-s data-v-6fa0db71><a class="vp-link no-icon link" href="/blog/en/" data-v-6fa0db71 data-v-30e58bde><!--[--><!----> English<!--]--><!----></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="vp-navbar-appearance appearance" data-v-86b58b52 data-v-1038f173><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-1038f173 data-v-74f8b442 data-v-2b3ab441><span class="check" data-v-2b3ab441><span class="icon" data-v-2b3ab441><!--[--><span class="vpi-sun sun" data-v-74f8b442></span><span class="vpi-moon moon" data-v-74f8b442></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-86b58b52 data-v-948787e0 data-v-1a0ec42e><!--[--><a class="vp-social-link no-icon" href="/" aria-label="github" target="_blank" rel="noopener" data-v-1a0ec42e data-v-ebc418bc><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-86b58b52 data-v-59d3f8bd data-v-685caada><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-685caada><span class="vpi-more-horizontal icon" data-v-685caada></span></button><div class="menu" data-v-685caada><div class="vp-menu" data-v-685caada data-v-395a8b11><!----><!--[--><!--[--><div class="group translations" data-v-59d3f8bd data-v-685caada-s data-v-395a8b11-s><p class="trans-title" data-v-59d3f8bd data-v-685caada-s data-v-395a8b11-s>简体中文</p><!--[--><div class="vp-menu-link" data-v-59d3f8bd data-v-685caada-s data-v-395a8b11-s data-v-6fa0db71><a class="vp-link no-icon link" href="/blog/en/" data-v-6fa0db71 data-v-30e58bde><!--[--><!----> English<!--]--><!----></a></div><!--]--></div><div class="group" data-v-59d3f8bd data-v-685caada-s data-v-395a8b11-s><div class="item appearance" data-v-59d3f8bd data-v-685caada-s data-v-395a8b11-s><p class="label" data-v-59d3f8bd data-v-685caada-s data-v-395a8b11-s>外观</p><div class="appearance-action" data-v-59d3f8bd data-v-685caada-s data-v-395a8b11-s><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-59d3f8bd data-v-685caada-s data-v-395a8b11-s data-v-74f8b442 data-v-2b3ab441><span class="check" data-v-2b3ab441><span class="icon" data-v-2b3ab441><!--[--><span class="vpi-sun sun" data-v-74f8b442></span><span class="vpi-moon moon" data-v-74f8b442></span><!--]--></span></span></button></div></div></div><div class="group" data-v-59d3f8bd data-v-685caada-s data-v-395a8b11-s><div class="item social-links" data-v-59d3f8bd data-v-685caada-s data-v-395a8b11-s><div class="vp-social-links social-links-list" data-v-59d3f8bd data-v-685caada-s data-v-395a8b11-s data-v-1a0ec42e><!--[--><a class="vp-social-link no-icon" href="/" aria-label="github" target="_blank" rel="noopener" data-v-1a0ec42e data-v-ebc418bc><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-86b58b52 data-v-6a75553a><span class="container" data-v-6a75553a><span class="top" data-v-6a75553a></span><span class="middle" data-v-6a75553a></span><span class="bottom" data-v-6a75553a></span></span></button></div></div></div></div><div class="divider" data-v-86b58b52><div class="divider-line" data-v-86b58b52></div></div></div><!----></header><div class="vp-local-nav reached-top is-blog" data-v-3ba327b4 data-v-d61d215c><button class="menu" aria-expanded="false" aria-controls="SidebarNav" data-v-d61d215c><span class="vpi-align-left menu-icon" data-v-d61d215c></span><span class="menu-text" data-v-d61d215c>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-d61d215c data-v-0fc7bb02><button data-v-0fc7bb02>返回顶部</button><!----></div></div><aside class="vp-sidebar" vp-sidebar data-v-3ba327b4 data-v-e73941de><div class="curtain" data-v-e73941de></div><nav id="SidebarNav" class="nav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-e73941de><span id="sidebar-aria-label" class="visually-hidden" data-v-e73941de> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-41905e4e><section class="vp-sidebar-item sidebar-item level-0" data-v-41905e4e data-v-dad92276><!----><div class="items" data-v-dad92276><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-dad92276 data-v-dad92276><div class="item" data-v-dad92276><div class="indicator" data-v-dad92276></div><!----><a class="vp-link no-icon link link" href="/blog/Vue/start/" data-v-dad92276 data-v-30e58bde><!--[--><p class="text" data-v-dad92276 data-v-30e58bde-s>start</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-41905e4e><section class="vp-sidebar-item sidebar-item level-0 collapsible has-active" data-v-41905e4e data-v-dad92276><div class="item" role="button" tabindex="0" data-v-dad92276><div class="indicator" data-v-dad92276></div><!----><h2 class="text" data-v-dad92276>Basic</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-dad92276><span class="vpi-chevron-right caret-icon" data-v-dad92276></span></div></div><div class="items" data-v-dad92276><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-dad92276 data-v-dad92276><div class="item" data-v-dad92276><div class="indicator" data-v-dad92276></div><!----><a class="vp-link no-icon link link" href="/blog/Vue/basic/createApp/" data-v-dad92276 data-v-30e58bde><!--[--><p class="text" data-v-dad92276 data-v-30e58bde-s>createApp</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-dad92276 data-v-dad92276><div class="item" data-v-dad92276><div class="indicator" data-v-dad92276></div><!----><a class="vp-link no-icon link link" href="/blog/Vue/basic/%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95/" data-v-dad92276 data-v-30e58bde><!--[--><p class="text" data-v-dad92276 data-v-30e58bde-s>模板语法</p><!--]--><!----></a><!----></div><!----></div><section class="vp-sidebar-item sidebar-item level-1 collapsible has-active" data-v-dad92276 data-v-dad92276><div class="item" role="button" tabindex="0" data-v-dad92276><div class="indicator" data-v-dad92276></div><!----><h3 class="text" data-v-dad92276>选项式</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-dad92276><span class="vpi-chevron-right caret-icon" data-v-dad92276></span></div></div><div class="items" data-v-dad92276><!--[--><div class="vp-sidebar-item sidebar-item level-2 is-link" data-v-dad92276 data-v-dad92276><div class="item" data-v-dad92276><div class="indicator" data-v-dad92276></div><!----><a class="vp-link no-icon link link" href="/blog/Vue/Options/Reactivity%20Fundamentals/" data-v-dad92276 data-v-30e58bde><!--[--><p class="text" data-v-dad92276 data-v-30e58bde-s>选项式基础</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-2 is-link" data-v-dad92276 data-v-dad92276><div class="item" data-v-dad92276><div class="indicator" data-v-dad92276></div><!----><a class="vp-link no-icon link link" href="/blog/Vue/basic/computed/" data-v-dad92276 data-v-30e58bde><!--[--><p class="text" data-v-dad92276 data-v-30e58bde-s>计算属性</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-2 is-link" data-v-dad92276 data-v-dad92276><div class="item" data-v-dad92276><div class="indicator" data-v-dad92276></div><!----><a class="vp-link no-icon link link" href="/blog/Vue/basic/watch/" data-v-dad92276 data-v-30e58bde><!--[--><p class="text" data-v-dad92276 data-v-30e58bde-s>侦听器</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-2 is-link" data-v-dad92276 data-v-dad92276><div class="item" data-v-dad92276><div class="indicator" data-v-dad92276></div><!----><a class="vp-link no-icon link link" href="/blog/Vue/basic/input-binding/" data-v-dad92276 data-v-30e58bde><!--[--><p class="text" data-v-dad92276 data-v-30e58bde-s>表单输入绑定</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-dad92276 data-v-dad92276><div class="item" data-v-dad92276><div class="indicator" data-v-dad92276></div><!----><a class="vp-link no-icon link link" href="/blog/Vue/yx7459zz/" data-v-dad92276 data-v-30e58bde><!--[--><p class="text" data-v-dad92276 data-v-30e58bde-s>内置指令</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-dad92276 data-v-dad92276><div class="item" data-v-dad92276><div class="indicator" data-v-dad92276></div><!----><a class="vp-link no-icon link link" href="/blog/Vue/basic/conditional-rendering/" data-v-dad92276 data-v-30e58bde><!--[--><p class="text" data-v-dad92276 data-v-30e58bde-s>条件渲染</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-dad92276 data-v-dad92276><div class="item" data-v-dad92276><div class="indicator" data-v-dad92276></div><!----><a class="vp-link no-icon link link" href="/blog/Vue/basic/event-handling/" data-v-dad92276 data-v-30e58bde><!--[--><p class="text" data-v-dad92276 data-v-30e58bde-s>事件处理</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-dad92276 data-v-dad92276><div class="item" data-v-dad92276><div class="indicator" data-v-dad92276></div><!----><a class="vp-link no-icon link link" href="/blog/Vue/basic/list-rendering/" data-v-dad92276 data-v-30e58bde><!--[--><p class="text" data-v-dad92276 data-v-30e58bde-s>列表渲染</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-41905e4e><section class="vp-sidebar-item sidebar-item level-0 collapsible" data-v-41905e4e data-v-dad92276><div class="item" role="button" tabindex="0" data-v-dad92276><div class="indicator" data-v-dad92276></div><!----><h2 class="text" data-v-dad92276>cli</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-dad92276><span class="vpi-chevron-right caret-icon" data-v-dad92276></span></div></div><div class="items" data-v-dad92276><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-dad92276 data-v-dad92276><div class="item" data-v-dad92276><div class="indicator" data-v-dad92276></div><!----><a class="vp-link no-icon link link" href="/blog/Vue/iu589rkf/" data-v-dad92276 data-v-30e58bde><!--[--><p class="text" data-v-dad92276 data-v-30e58bde-s>组件化</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><!--[--><div id="VPContent" vp-content class="vp-content has-sidebar" data-v-3ba327b4 data-v-6298fb78><div class="has-sidebar has-aside vp-doc-container" data-v-6abd44e1><!--[--><!--]--><div class="container" data-v-6abd44e1><div class="aside" vp-outline data-v-6abd44e1><div class="aside-curtain" data-v-6abd44e1></div><div class="aside-container" data-v-6abd44e1><div class="aside-content" data-v-6abd44e1><div class="vp-doc-aside" data-v-6abd44e1 data-v-3db40e98><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="vp-doc-aside-outline" role="navigation" data-v-3db40e98 data-v-1bcf17d1><div class="content" data-v-1bcf17d1><div class="outline-marker" data-v-1bcf17d1></div><div id="doc-outline-aria-label" aria-level="2" class="outline-title" role="heading" data-v-1bcf17d1><span data-v-1bcf17d1>此页内容</span><span class="vpi-print icon" data-v-1bcf17d1></span></div><ul class="root" data-v-1bcf17d1 data-v-e37709d0><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3db40e98></div><!--[--><!--]--></div></div></div></div><div class="content" data-v-6abd44e1><div class="content-container" data-v-6abd44e1><!--[--><!--]--><main class="main" data-v-6abd44e1><nav class="vp-breadcrumb" data-v-6abd44e1 data-v-ea381c52><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-ea381c52><!--[--><li property="itemListElement" typeof="ListItem" data-v-ea381c52><a class="vp-link no-icon link breadcrumb" href="/blog/" property="item" typeof="WebPage" data-v-ea381c52 data-v-30e58bde><!--[-->首页<!--]--><!----></a><span class="vpi-chevron-right" data-v-ea381c52></span><meta property="name" content="首页" data-v-ea381c52><meta property="position" content="1" data-v-ea381c52></li><li property="itemListElement" typeof="ListItem" data-v-ea381c52><span class="vp-link no-icon breadcrumb" href="/blog/" property="item" typeof="WebPage" data-v-ea381c52 data-v-30e58bde><!--[-->Basic<!--]--><!----></span><span class="vpi-chevron-right" data-v-ea381c52></span><meta property="name" content="Basic" data-v-ea381c52><meta property="position" content="2" data-v-ea381c52></li><li property="itemListElement" typeof="ListItem" data-v-ea381c52><span class="vp-link no-icon breadcrumb" href="/blog/" property="item" typeof="WebPage" data-v-ea381c52 data-v-30e58bde><!--[-->选项式<!--]--><!----></span><span class="vpi-chevron-right" data-v-ea381c52></span><meta property="name" content="选项式" data-v-ea381c52><meta property="position" content="3" data-v-ea381c52></li><li property="itemListElement" typeof="ListItem" data-v-ea381c52><a class="vp-link no-icon link breadcrumb current" href="/blog/Vue/Options/Reactivity%20Fundamentals/" property="item" typeof="WebPage" data-v-ea381c52 data-v-30e58bde><!--[-->选项式基础<!--]--><!----></a><!----><meta property="name" content="选项式基础" data-v-ea381c52><meta property="position" content="4" data-v-ea381c52></li><!--]--></ol></nav><!--[--><h1 class="vp-doc-title page-title" data-v-02188e20>选项式基础 <!----></h1><div class="vp-doc-meta" data-v-02188e20><p class="reading-time" data-v-02188e20><span class="vpi-books icon" data-v-02188e20></span><span data-v-02188e20>约 1121 字</span><span data-v-02188e20>大约 4 分钟</span></p><!----><p class="create-time" data-v-02188e20><span class="vpi-clock icon" data-v-02188e20></span><span data-v-02188e20>2024-12-27</span></p></div><!--]--><div class="_Vue_Options_Reactivity%20Fundamentals_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-6abd44e1><div data-v-6abd44e1><h2 id="声明相应式状态" tabindex="-1"><a class="header-anchor" href="#声明相应式状态"><span>声明相应式状态</span></a></h2><p>选用选项式 API 时，会用 data 选项来声明组件的响应式状态。此选项的值应为返回一个对象的函数。Vue 将在创建新组件实例的时候调用此函数，并将函数 返回的对象用响应式系统进行包装。此对象的所有顶层属性都会被代理到组件实例 (即方法和生命周期钩子中的 this) 上。</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> default</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    return</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      count</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  // `mounted` 是生命周期钩子，之后我们会讲到</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  mounted</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // `this` 指向当前组件实例</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">count</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // =&gt; 1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 数据属性也可以被更改</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">count</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这些实例上的属性仅在实例首次创建时被添加，因此你需要确保它们都出现在 data 函数返回的对象上。若所需的值还未准备好，在必要时也可以使用 null、undefined 或者其他一些值占位。</p><p>虽然也可以不在 data 上定义，直接向组件实例添加新属性，但这个属性将无法触发响应式更新。</p><p>Vue 在组件实例上暴露的内置 API 使用 $ 作为前缀。它同时也为内部属性保留 _ 前缀。因此，你应该避免在顶层 data 上使用任何以这些字符作前缀的属性。</p><h3 id="响应式代理-vs-原始值" tabindex="-1"><a class="header-anchor" href="#响应式代理-vs-原始值"><span>响应式代理 vs. 原始值</span></a></h3><p>在 Vue 3 中，数据是基于 JavaScript Proxy (代理) 实现响应式的。使用过 Vue 2 的用户可能需要注意下面这样的边界情况：</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> default</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    return</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      someObject</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {}</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  mounted</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> newObject</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {}</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">someObject</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> newObject</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">newObject</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> ===</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">someObject</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // false</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当你在赋值后再访问 this.someObject，此值已经是原来的 newObject 的一个响应式代理。与 Vue 2 不同的是，这里原始的 newObject 不会变为响应式：请确保始终通过 this 来访问响应式状态。</p><h2 id="声明方法" tabindex="-1"><a class="header-anchor" href="#声明方法"><span>声明方法</span></a></h2><p>要为组件添加方法，我们需要用到 methods 选项。它应该是一个包含所有方法的对象：</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> default</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    return</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      count</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  methods</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    increment</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">      this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">count</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">++</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  mounted</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 在其他方法或是生命周期中也可以调用方法</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">increment</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Vue 自动为 methods 中的方法绑定了永远指向组件实例的 this。这确保了方法在作为事件监听器或回调函数时始终保持正确的 this。你不应该在定义 methods 时使用箭头函数，因为箭头函数没有自己的 this 上下文。</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> default</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  methods</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    increment</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> ()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      // 反例：无法访问此处的 `this`!</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>和组件实例上的其他属性一样，方法也可以在模板上被访问。在模板中它们常常被用作事件监听器：</p><div class="language-vue-html line-numbers-mode" data-ext="vue-html" data-title="vue-html"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">button</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> @</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">click</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">increment</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">{{ count }}</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">button</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在上面的例子中，<code>increment</code> 方法会在 <code>&lt;button&gt;</code> 被点击时调用。</p><h3 id="dom-更新" tabindex="-1"><a class="header-anchor" href="#dom-更新"><span>DOM 更新</span></a></h3><p>当你修改了响应式状态时，DOM 会被自动更新。但是需要注意的是，DOM 更新不是同步的。Vue 会在“next tick”更新周期中缓冲所有状态的修改，以确保不管 你进行了多少次状态修改，每个组件都只会被更新一次。</p><p><strong>要等待 DOM 更新完成后再执行额外的代码，可以使用 <a href="https://cn.vuejs.org/api/general#nexttick" target="_blank" rel="noopener noreferrer"><code>nextTick()</code></a> 全局 API：</strong></p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> nextTick</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">vue</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> default</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  methods</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    async</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> increment</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">      this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">count</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">++</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      await</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> nextTick</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      // 现在 DOM 已经更新了</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="有状态方法" tabindex="-1"><a class="header-anchor" href="#有状态方法"><span>有状态方法</span></a></h3><p>在某些情况下，我们可能需要动态地创建一个方法函数(工厂模式)，比如创建一个预置防抖的事件处理器：</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> debounce</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">lodash-es</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> default</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  methods</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 使用 Lodash 的防抖函数</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    click</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> debounce</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">function</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> ()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      // ... 对点击的响应 ...</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    },</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 500</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>不过这种方法对于被重用的组件来说是有问题的，因为这个预置防抖的函数是有状态的：它在运行时维护着一个内部状态。如果多个组件实例都共享这同一个预置 防抖的函数，那么它们之间将会互相影响。</p><p>要保持每个组件实例的防抖函数都彼此独立，我们可以改为在 created 生命周期钩子中创建这个预置防抖的函数：</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> default</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  created</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 每个实例都有了自己的预置防抖的处理函数</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">debouncedClick</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> _</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">debounce</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">click</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 500</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  unmounted</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 最好是在组件卸载时</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 清除掉防抖计时器</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">debouncedClick</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">cancel</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  methods</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    click</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      // ... 对点击的响应 ...</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><!----><!----></div></main><footer class="vp-doc-footer" data-v-6abd44e1 data-v-0b14975e><!--[--><!--]--><!----><div class="contributors" aria-label="Contributors" data-v-0b14975e><span class="contributors-label" data-v-0b14975e>贡献者: </span><span class="contributors-info" data-v-0b14975e><!--[--><!--[--><span class="contributor" data-v-0b14975e>gaobo</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-0b14975e><div class="pager" data-v-0b14975e><a class="vp-link no-icon link pager-link prev" href="/blog/Vue/basic/%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95/" data-v-0b14975e data-v-30e58bde><!--[--><span class="desc" data-v-0b14975e data-v-30e58bde-s>上一页</span><span class="title" data-v-0b14975e data-v-30e58bde-s>模板语法</span><!--]--><!----></a></div><div class="pager" data-v-0b14975e><a class="vp-link no-icon link pager-link next" href="/blog/Vue/basic/computed/" data-v-0b14975e data-v-30e58bde><!--[--><span class="desc" data-v-0b14975e data-v-30e58bde-s>下一页</span><span class="title" data-v-0b14975e data-v-30e58bde-s>计算属性</span><!--]--><!----></a></div></nav></footer><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-3ba327b4 data-v-305b9818><span class="percent" data-allow-mismatch data-v-305b9818>0%</span><span class="show icon vpi-back-to-top" data-v-305b9818></span><svg aria-hidden="true" data-v-305b9818><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-305b9818></circle></svg></button><footer class="vp-footer has-sidebar" vp-footer data-v-3ba327b4 data-v-0176fe86><!--[--><div class="container" data-v-0176fe86><p class="message" data-v-0176fe86>Powered by <a target="_blank" href="https://v2.vuepress.vuejs.org/">VuePress</a> & <a target="_blank" href="https://theme-plume.vuejs.press">vuepress-theme-plume</a></p><!----></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script src="/blog/assets/js/runtime~app.88b90bef.js" defer></script><script src="/blog/assets/js/7955.49d4ac36.js" defer></script><script src="/blog/assets/js/app.2d4d8b7a.js" defer></script></body></html>